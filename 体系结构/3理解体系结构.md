#3 理解体系结构（高层）

###1.体系结构的动机
92年提出概念，2000年基本成熟
《Fundations for the study of software architecture》
一个理论类比：建筑
另一个理论：详细设计有缺陷。
	
	详细设计是实现，不是设计。
	可以承载软件质量的东西，
	整体是需求分配。承载质量。
建筑有的软件也该有：

	视图，风格。风格和工程是两个不同的部分。与材料也是不同的。
	然而风格会影响到工程，限制材料等。
	分层风格，必须要做依赖倒置。用到vo，po
	
体系结构={元素，格式，理由}

	{
	Elements=Process+Data+Connection
	Form=Property(质量，约束，环境)+Relationship
	Form现在被称为Configuration
	Rationale:Design decision
	}
体系结构={部件+连接件+配置}  M.Shaw

UML2.0里面的概念与体系结构相比比较不伦不类。
###抽象和实现
Connect是和Component同样重要的。需要理解Connect。

部件承载着连接和状态，功能需求
连接件负责联系部件，这一种联系会构成一定的质量
####部件
name，property

port：提供给别人的(provide)，需要别人调用的(required)，调用规则（specification)

不同的port可以有冗余

要想有关系，现在一定需要connector。有两个接口，role对应port

Component Type Merge = {Port original C,Port lowered C..}

####连接件
我们关心的是系统各个部件联系有多复杂
强迫component完全独立，讲系统的复杂度控制下来，不允许直接接口。体系结构在逻辑上必须有connect。

特点：
1.connect的定义可以本地化

2.eg：互为备份是一种联系，然而实现起来根本就没这种实现
集群当中带有负载均衡。写起来程序极其复杂。

3.有些非功能需求可以分配了。

4.独立。兼容。部件式独立的，连接件是独立的，关系式可修改的。

描述法：!输入。?输出
事件分为内部决策和外部

connect是把交互规则全部集中。至于写程序的时候在不在，不管。

####写程序时。
隐式和显式
隐式：
	
	1.程序调用
	2.共享变量
	3.消息
	4.管道
	5.时间
	6.远程过程调用RFC
	7.网络协议
	8.数据库访问协议
	
显式：
	
	1.适配器
	2.委托
	3.中介
	
####配置。
连接部件和中间件的方式。就是一种拓扑

####质量
功能-》成本，可修改性-》可用性，安全性，

可达性，安全。性能

可用性：整体上需要提供帮助吗，feedback（请求响应之间的模式，人机交互）

####环境-开发
1.人员技能。比如这个组里只有一个人会智能，那就该把智能单独做一个模块

2.cost。熟悉技术。外部资源。时间上紧张不，紧张了要购买

3.利用已有资源和原始版本。2.0版会为了1.0版做出很大折中

####环境-市场
1.风险和新技术 benefit

2.周期。火箭发射的软件不需要什么可修改性。摩托罗拉的手机线。

3.目标市场和销售策略

####环境-技术
做软件另外做一套硬件
工作流等等。

#散布



好的架构，需要看到的时候，看到关注点。

####决策
cross cutting intertwined

设计的规则约束非常容易被违反

错误决策会承担很大代价。

##总结
1.是一种新的抽象逻辑

2.是关心需求。尤其是质量约束等。

3.是一种决策。

真实的架构师做的事情特别多

